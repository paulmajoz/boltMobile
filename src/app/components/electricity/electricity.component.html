<div class="min-h-screen bg-gray-50 flex flex-col">
  <app-header></app-header>

  <main class="flex-1 p-6 sm:p-10">
    <h3 class="text-4xl font-bold text-secondary mb-10">Purchase Electricity</h3>

    <form (ngSubmit)="purchaseElectricity()" class="flex flex-col gap-10 text-2xl sm:text-3xl">

      <!-- Meter Number -->
      <div>
        <label class="block mb-4 font-bold">Meter Number:</label>
        <input
          type="text"
          [(ngModel)]="meterNumber"
          name="meterNumber"
          required
          class="w-full border-2 border-gray-300 rounded-xl px-8 py-6"
        />
      </div>

      <!-- Amount in Rands -->
      <div>
        <label class="block mb-4 font-bold">Amount:</label>
        <input
          type="number"
          [(ngModel)]="amountInRands"
          name="amountInRands"
          required
          class="w-full border-2 border-gray-300 rounded-xl px-8 py-6"
        />
      </div>

      <button
        type="submit"
        class="bg-green-600 hover:bg-green-700 text-white font-extrabold py-6 px-10 rounded-xl w-full"
      >
        Buy Electricity
      </button>
    </form>

    <!-- âœ… Token Display Box -->
    <div *ngIf="token" class="mt-10 bg-white shadow-md rounded-xl p-6 border-2 border-green-500">
      <h4 class="text-2xl font-bold text-green-700 mb-4">Token Received</h4>
      <div class="flex items-center justify-between">
        <span class="text-xl break-all">{{ token }}</span>
        <button
          (click)="copyTokenToClipboard()"
          class="ml-4 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-xl"
        >
          Copy Token
        </button>
      </div>
    </div>
  </main>
</div>
